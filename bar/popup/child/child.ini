[rainmeter]
update=10
accuratetext=1
defaultdraggable=0
defaultalwaysontop=1
onrefreshaction=[!commandmeasure script "setWindowName"]
mouseoveraction=[!commandmeasure timer "stop 1" "#rootConfig#\bar"]
mouseleaveaction=[!deactivateconfig]
rightmouseupaction=[]

[variables]
@include=#@#var.inc
w=300
h=32
xPad=15
yPad=10
gap=10
btnOffset=25

hover=0
xButton=00
xHide=1
wName000=!

[script]
measure=plugin
plugin=powershellrm
scriptfile=#@#taskbar.ps1
dynamicvariables=1

[update]
measure=time
onchangeaction=[!updatemeasure programOptions]

[programOptions]
measure=plugin
plugin=programoptions
indexes=#maxAppCount#
updatedivider=-1

[set]
measure=calc
formula=#programsCount0#+#programsCount1#+#programsCount2#+#programsCount3#+#programsCount4#+#programsCount5#+#programsCount6#+#programsCount7#+#programsCount8#+#programsCount9#
dynamicvariables=1
onchangeaction=[!commandmeasure script "setWindowName"]

[mainBg]
meter=shape
X=#stkW#
Y=#stkW#
shape=rectangle 0,0,#w#,((#h#*[#programsCount[#hover]])+(#yPad#*2)),(#bCorner#>1?(#bCorner#-2):#bCorner#) | strokeWidth #stkW# | strokeColor #stkColor# | fillColor #bgColor#
dynamicvariables=1

[wName]
X=#stkW#
Y=R
W=(#w#-#xPad#-35)
clipstring=1
stringalign=leftcenter
text=[#wName[#currentSection][#hover]]
padding=#xPad#,(#gap#/2),(#xPad#+20),(#gap#/2)
fontcolor=#mColor#
fontface=#font#
fontsize=#bTextSize#
fontweight=#fontW#
antialias=1
dynamicvariables=1
leftmouseupaction=[!commandmeasure programOptions "ToFront|Child|#hover#|#currentSection#"][!deactivateconfig]
mouseoveraction=[!setvariable xButton #currentSection#][!setvariable xHide 0][!setoption #currentSection# solidcolor #bgColorL#][!setoption #currentSection# fontcolor #sColor#]
mouseleaveaction=[!setvariable xButton 00][!setvariable xHide 1][!setoption #currentSection# solidcolor ""][!setoption #currentSection# fontcolor ""]
hidden=([#programsCount#hover#]>#currentSection#?0:1)

[00]
meter=string
meterstyle=wName
Y=((#h#+(#yPad#*2))/2)r

[01]
meter=string
meterstyle=wName

[02]
meter=string
meterstyle=wName

[03]
meter=string
meterstyle=wName

[04]
meter=string
meterstyle=wName

[05]
meter=string
meterstyle=wName

[06]
meter=string
meterstyle=wName

[07]
meter=string
meterstyle=wName

[08]
meter=string
meterstyle=wName

[09]
meter=string
meterstyle=wName

[xButton]
meter=string
X=(#w#-#xPad#+10)
Y=(#yPad#+[[#xButton]:Y]+6)
stringalign=rightcenter
text=[\x2716]
solidcolor=#bgColorL#
padding=5,(#gap#/2),5,(#gap#/2)
fontcolor=#sColor#
fontface=JetBrains Mono
fontsize=(#bTextSize#-2)
antialias=1
dynamicvariables=1
hidden=#xHide#
mouseoveraction=[!setoption xButton fontcolor #color4#]
mouseleaveaction=[!setoption xButton fontcolor #sColor#]
leftmouseupaction=["#@#nircmd.exe" win close title "[#wName[#xButton][#hover]]"][!deactivateconfig]